<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Uncle John's Movie Advent Calendar Extravaganza</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Impact&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Staatliches&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Sedgwick+Ave&display=swap" rel="stylesheet">

<style>
/* General Body */
body {
  font-family: 'Oswald', sans-serif;
  background-color: #e6f2fa;
  color: #003366;
  text-align: center;
  margin: 0;
  padding: 20px;
}

/* Heading */
h1 {
  font-size: 4em;
  margin-bottom: 40px;
  line-height: 1;
  color: #004080;
  font-family: 'Sedgwick Ave', cursive;
  text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
}

/* Grid Layout */
.grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr); /* 5 columns */
  gap: 35px; /* wider spacing between boxes */
  max-width: 1400px;
  margin: 0 auto;
}

/* Squares */
.square {
  background: #cce6ff;
  border: 4px solid #99ccff; /* was 2px */
  border-radius: 10px;
  aspect-ratio: 1/1;
  min-height: 250px;
  cursor: pointer;
  position: relative;
  transition: transform 0.2s;
  overflow: hidden;
  box-shadow: 2px 4px 8px rgba(0,0,0,0.2);

}
.square:hover {
  transform: scale(1.05);
  border-color: #007acc; /* subtle glow */
}
  
.square span {
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  font-size: 7.5em;
  color: #fff;
  font-family: 'Sedgwick Ave', cursive;
}

/* Close (X) Button for Squares */
.squareResetBtn {
  position: absolute;
  top: 5px;
  right: 8px;
  font-size: 1.5em;
  background: none;
  border: none;
  color: #003366;
  font-weight: bold;
  cursor: pointer;
  z-index: 5;
}

/* Revealed */
.revealed {
  display: flex;
  align-items: center;
  justify-content: center;
  background: #fff;
}
.revealed img {
  height: 100%;
  width: 100%;
  object-fit: cover;
  cursor: pointer;
}

/* Modal */
.modal {
  display: none;
  position: fixed;
  z-index: 10;
  left: 0; top: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,50,0.7);
  justify-content: center;
  align-items: center;
}

.modal-content {
  background: #f7fbff;              /* darker background */
  padding: 25px;                 /* slightly smaller padding */
  border-radius: 15px;
  height: auto;                  /* adapt to poster height */
  width: 900px;                  /* narrower modal */
  max-height: 90vh;              /* never taller than screen */
  color: #003366;                   /* light text for contrast */
  text-align: left;
  position: relative;
  font-size: 2.0625rem;
  font-family: 'Cardo', serif;   /* classic font */
  display: flex;
  flex-direction: row;           /* poster left, info right */
  box-sizing: border-box;
  overflow: hidden;
}

/* Close Button */
.close {
  position: absolute;
  top: 10px;
  right: 15px;
  font-size: 1.5em;
  cursor: pointer;
  color: #007acc;
}

/* Reset Button */
#resetBtn {
  margin-top: 30px;
  font-size: 1.2em;
  padding: 10px 20px;
  cursor: pointer;
  border-radius: 8px;
  border: none;
  background-color: #007acc;
  color: #fff;
  font-family: 'Staatliches', sans-serif;
}

/* Modal Body */
.modal-body {
  display: flex;
  flex-direction: row;
  gap: 20px;
  height: 100%;
  width: 100%;
  align-items: flex-start;
}

/* Poster */
.poster img {
  max-height: 600px;        /* bigger poster */
  width: auto;
  border-radius: 12px;
  object-fit: contain;
}

/* Film Info */
.film-info {
  flex: 1;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  font-family: 'Oswald', sans-serif;
}

/* Film Title */
#modalTitle {
  font-size: 3.2rem;
  font-weight: 700;
  margin: 0;
  color: #003366;
}

/* Year + Cert + Runtime */
.year-cert {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: 5px;
  font-size: 2.2rem;
  color: #005f99;
  opacity: 0.9;
}
.year-cert img {
  width: 50px;
  height: auto;
}

/* Runtime next to cert */
#runtime {
  margin-left: 15px;
  font-size: 2rem;
  color: #222;
}

/* Tags before description */
.tags { 
  margin-top: 15px; 
  margin-bottom: 8px; /* reduced gap before description */
  font-style: italic; 
  font-size: 1.9rem; 
  color: #004d80;
}

/* Description */
#modalDesc {
  margin-top: 0; /* less spacing */
  font-size: 1.9rem;
  color: #222;
  line-height: 1.4;
}

/* Streaming Logos (multiple support) */
.streaming-logo {
  display: flex;
  flex-direction: row;
  margin-top: 20px;
}
.streaming-logo img {
  width: 100px;
  height: auto;
  margin-right: 10px;
}
</style>
</head>
<body>
<h1>Uncle John's Movie Advent Calendar Extravaganza!</h1>
<div class="grid" id="calendar"></div>

<!-- Modal -->
<div class="modal" id="filmModal">
  <div class="modal-content">
    <span class="close" id="closeModal">&times;</span>
    <div class="modal-body">
      <div class="poster">
        <img id="modalPoster" src="" alt="Film Poster">
      </div>
      <div class="film-info">
        <h3 id="modalTitle">Film Title</h3>
        <div class="year-cert">
          <span id="modalYear">(Year)</span>
          <img id="ageCert" src="" alt="Age Certification">
          <span id="runtime"></span>
        </div>
        <p class="tags"></p>
        <p id="modalDesc">Description goes here</p>
        <div id="modalStreaming" class="streaming-logo"></div>
      </div>
    </div>
  </div>
</div>

<button id="resetBtn">RESET CALENDAR</button>

<script>
const calendar = document.getElementById('calendar');
let openedSquares = JSON.parse(localStorage.getItem('openedSquares')) || {};
  
  
  const films = [

   { title: "The Mitchells Vs. The Machines", year: 2020, cert: "U", image: "images/mitch.jpg", poster: "images/mitch_poster.jpg", runtime: "1h 49m", description: "A quirky family has to save the world from the evil robot uprising. Funny, feel-good story with eye-popping energy.", tags: ["Animation", "Action", "Comedy", "Sci-Fi"], streaming: "images/netflix.png" }, 
   { title: "The Goonies", year: 1985, cert: "12A", image: "images/goon.jpg", poster: "images/goon_poster.jpg", runtime: "1h 54m", description: "A group of friends hunt for lost pirate treasure. Energetic mix of sentiment and funhouse tricks.", tags: ["Adventure", "Comedy"], streaming: "images/netflix.png" }, 
   { title: "Raiders of the Lost Ark", year: 1981, cert: "12A", image: "images/raid.jpg", poster: "images/raid_poster.jpg", runtime: "1h 55m", description: "An adventurer travels in search of a legendary artefact. One of the most entertaining adventure films of all time.", tags: ["Adventure", "Action"], streaming: ["images/netflix.png", "images/prime_logo.png"] }, 
   { title: "Spirited Away", year: 2001, cert: "PG", image: "images/spirit.jpg", poster: "images/spirit_poster.jpg", runtime: "2h 5m", description: "A young girl gets trapped in a strange world of spirits. A dazzling, enchanting and gorgeously drawn Japanese fairytale.", tags: ["Animation", "Fantasy", "Adventure"], streaming: "images/netflix.png" }, 
   { title: "Corpse Bride", year: 2005, cert: "PG", image: "images/corpse.jpg", poster: "images/corpse_poster.jpg", runtime: "1h 17m", description: "A young man gets whisked to the underworld to marry a mysterious undead bride. Whimsically macabre, imaginative and bittersweet.", tags: ["Animation", "Fantasy"], streaming: "images/netflix.png" }, 
   { title: "Spider-Man: Into The Spider-Verse", year: 2018, cert: "PG", image: "images/spider.jpg", poster: "images/spider_poster.jpg", runtime: "1h 57m", description: "A Brooklyn teen develops Spider-Man powers. Purely enjoyable adventure with humor, action and striking animation.", tags: ["Animation", "Action", "Fantasy"], streaming: "images/netflix.png" }, 
  { title: "Paddington 2", year: 2017, cert: "PG", image: "images/pad.jpg", poster: "images/pad_poster.jpg", runtime: "1h 44m", description: "A young bear finds himself in trouble when he is mistaken for a treasure thief. Hugely enjoyable, sweet-natured sequel with laugh out loud slapstick.", tags: ["Adventure", "Comedy", ""], streaming: "images/netflix.png" }, 
  { title: "Chicken Run", year: 2000, cert: "U", image: "images/chick.jpg", poster: "images/chick_poster.jpg", runtime: "1h 24m", description: "Misfit chickens attempt a daring escape from their farm. Great action, brilliant slapstick and buckets of charm.", tags: ["Animation", "Adventure", "Comedy"], streaming: "images/netflix.png" }, 
  { title: "Matilda", year: 1996, cert: "PG", image: "images/matilda.jpg", poster: "images/matilda_poster.jpg", runtime: "1h 38m", description: "A young girl with magic powers faces off against an evil headmaster. An odd,  charming adaptation of the Roald Dahl classic.", tags: ["Fantasy", "Comedy"], streaming: "images/netflix.png" }, 
  { title: "Fantastic Mr. Fox", year: 2009, cert: "PG", image: "images/fox.jpg", poster: "images/fox_poster.jpg", runtime: "1h 28m", description: "A crafty fox and his animal friends face off against three farmers. A delightfully funny feast for the eyes.", tags: ["Animation", "Adventure", "Comedy"], streaming: "images/disney.png" }, 
  { title: "The Bob’s Burgers Movie", year: 2022, cert: "PG", image: "images/bob.jpg", poster: "images/bob_poster.jpg", runtime: "1h 42m", description: "The Belcher family try to solve a mystery that could save their restaurant. Lots of heart, humor and clever gags.", tags: ["Animation", "Comedy"], streaming: "images/disney.png" }, 
 { title: "Hocus Pocus", year: 1993, cert: "PG", image: "images/hocus.jpg", poster: "images/hocus_poster.jpg", runtime: "1h 35m", description: "A group of kids tries to stop three horrible witches from taking over their town. We loved this when we were kids. It’s fun, it’s silly and it feels exactly like Halloween.", tags: ["Fantasy", "Comedy"], streaming: "images/disney.png" }, 
  { title: "Soul", year: 2020, cert: "PG", image: "images/soul.jpg", poster: "images/soul_poster.jpg", runtime: "1h 40m", description: "A jazz-loving teacher discovers what it means to have a soul. The best Pixar film of the last 8 years. A beautiful animation that tackles some seriously heavy subjects and big ideas.", tags: ["Animation", "Adventure", "Comedy"], streaming: "images/disney.png" }, 
{ title: "Fantasia", year: 1940, cert: "U", image: "images/fantasia.jpg", poster: "images/fantasia_poster.jpg", runtime: "2h", description: "In 1940, Disney did this crazy experiment where they made a 2 hour film of animated shorts set to classical music. It’s incredible. There’s dinosaurs… crocodiles dancing with hippos… Mickey Mouse as a wizard… and the devil!! I was obsessed when I was a kid and still think of it as one of my favourite films… maybe my favourite?", tags: ["Animation", "Fantasy"], streaming: "images/disney.png" }, 
{ title: "Mary Poppins", year: 1964, cert: "PG", image: "images/mary.jpg", poster: "images/mary_poster.jpg", runtime: "2h 20m", description: "A magic nanny flies in and takes children on fantastical adventures. OK… this might look old and boring, but it’s a magical film. You know old people say “they don’t make them like this anymore”... this is what they’re talking about (probably).", tags: ["Fantasy", "Musical"], streaming: "images/disney.png" }, 

  { title: "Hercules", year: 1997, cert: "U", image: "images/herc.jpg", poster: "images/herc_poster.jpg", runtime: "1h 32m", description: "A demigod tries to prove himself worthy by defeating evil mythological creatures. A seriously underrated Disney film. It’s action-packed, funny and so fun!", tags: ["Animation", "Adventure"], streaming: "images/disney.png" }, 

  { title: "The Muppets", year: 2011, cert: "U", image: "images/muppet.jpg", poster: "images/muppet_poster.jpg", runtime: "1h 38m", description: "The world's biggest Muppet fan tries to reunite his heroes and save their studio. Charming and very funny. Ask your mum about the Muppets.", tags: ["Comedy", “Musical”], streaming: "images/disney.png" }, 

  { title: “The Lion King", year: 1994, cert: "U", image: "images/lion.jpg", poster: "images/lion_poster.jpg", runtime: "1h 28m", description: "A young prince has to save the kingdom from his wicked uncle… also they’re lions. Is this the perfect Disney film? The animation is incredible. The songs are genius. Peak 90s Disney Renaissance.", tags: ["Animation", "Adventure", "Musical"], streaming: "images/disney.png" }, 

  { title: "Thor: Ragnarok", year: 2017, cert: "12A", image: "images/thor.jpg", poster: "images/thor_poster.jpg", runtime: "2h 10m", description: "Superhero Thor gets imprisoned on a strange planet and has to fight for survival. I haven’t seen all the Marvel films (because there are about 10,000 of them) but this one is very fun!!! It’s exciting and funny and weird and it doesn’t take itself too seriously.", tags: ["Action", "Fantasy", "Comedy"], streaming: "images/disney.png" }, 
  { title: "Black Panther", year: 2018, cert: "12A", image: "images/black.jpg", poster: "images/black_poster.jpg", runtime: "2h 14m", description: "A hero returns to his home country (Wakanda) to take his place as king - but he is drawn into a battle that puts the entire world in danger. One of the best Marvel films I’ve seen. Amazing world-building, exciting action and an actually good story.", tags: ["Action", "Fantasy"], streaming: "images/disney.png" }, 

  // ... repeat all other films and placeholders as before
    

];

function createSquare(film, i){
  const square = document.createElement('div');
  square.classList.add('square');
  square.dataset.index = i;
  square.innerHTML = `<span>${i+1}</span>`;
  if(openedSquares[i]) revealSquare(square, film);
  square.addEventListener('click', ()=>{
    if(!square.classList.contains('revealed')){
      revealSquare(square, film);
      openedSquares[i] = true;
      localStorage.setItem('openedSquares', JSON.stringify(openedSquares));
    }
  });
  return square;
}

function revealSquare(square, film){
  square.classList.add('revealed');
  square.innerHTML = `
    <button class="squareResetBtn">×</button>
    <img src="${film.image}" alt="${film.title}" title="${film.title}">
  `;
  const img = square.querySelector('img');
  img.addEventListener('click', e=>{
    e.stopPropagation();
    openModal(film);
  });
  const resetBtn = square.querySelector('.squareResetBtn');
  resetBtn.addEventListener('click', e=>{
    e.stopPropagation();
    square.classList.remove('revealed');
    square.innerHTML = `<span>${parseInt(square.dataset.index)+1}</span>`;
    delete openedSquares[square.dataset.index];
    localStorage.setItem('openedSquares', JSON.stringify(openedSquares));
  });
}

films.forEach((film,i)=>calendar.appendChild(createSquare(film,i)));

const modal = document.getElementById('filmModal');
const closeModal = document.getElementById('closeModal');
const modalPoster = document.getElementById('modalPoster');
const modalTitle = document.getElementById('modalTitle');
const modalYear = document.getElementById('modalYear');
const modalDesc = document.getElementById('modalDesc');
const runtimeSpan = document.getElementById('runtime');
const tagsP = document.querySelector('.tags');
const streamingDiv = document.getElementById('modalStreaming');

function openModal(film) {
  modalPoster.src = film.poster;
  modalTitle.textContent = film.title;
  modalYear.textContent = film.year ? `(${film.year})` : '';
  modalDesc.textContent = film.description;
  runtimeSpan.textContent = film.runtime;
  const ageCert = document.getElementById('ageCert');
  if (film.cert) {
    ageCert.src = `images/cert_${film.cert}.png`;
    ageCert.style.display = 'inline';
  } else {
    ageCert.style.display = 'none';
  }
  tagsP.textContent = film.tags.join(" / ");

if (film.streaming) {
  const streamingImages = Array.isArray(film.streaming) ? film.streaming : [film.streaming];
  streamingDiv.innerHTML = streamingImages.map(s => `<img src="${s}" alt="Streaming logo">`).join('');
} else {
  streamingDiv.innerHTML = "";

  }
  modal.style.display = "flex";
}

closeModal.onclick = () => { modal.style.display = 'none'; };
window.onclick = (e) => { if(e.target === modal) modal.style.display = 'none'; };

document.getElementById('resetBtn').addEventListener('click', ()=>{
  localStorage.removeItem('openedSquares');
  location.reload();
});
</script>
</body>
</html>
</body>
</html>
